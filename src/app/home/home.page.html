<ion-header [translucent]="true">
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <div class="header">
      <img [src]="userProfile?.foto" class="logo" alt="Foto Profil">
      <div class="header-title">
        <p>Hi, {{ userProfile?.nama || 'Guest' }}</p>
        <p>What Do You Want To Eat</p>
      </div>

      <div class="icon-header">
        <ion-icon name="notifications-outline" class="icon"></ion-icon>
      </div>
    </div>

    <div class="content">
      <!-- <input type="text" placeholder="Search" class="search" > -->
      <!-- <ion-input [(ngModel)]="searchTerm" (ionInput)="applySearch()" placeholder="Search" class="search"></ion-input> -->
      <ion-searchbar [(ngModel)]="searchTerm" (ionInput)="applySearch()" placeholder="Search menu"></ion-searchbar>

    </div>

    <div class="jumbotron">
      <h2>Today's Special</h2>
      <p>Get 20% off for all pasta menus!</p>
      <ion-button color="primary" size="small">Order Now</ion-button>
    </div>

    <div class="category" *ngIf="!searchTerm" style="margin-top: 50px;">
      <div class="category-button" (click)="selectCategory('semua')">
        <img src="assets/icon/allmenu.png" alt="logo" class="logo" />
        <h3>All</h3>
      </div>
      <div class="category-button" (click)="selectCategory('snack')">
        <img src="assets/icon/snack.png" alt="logo" class="logo" />
        <h3>Snack</h3>
      </div>
      <div class="category-button" (click)="selectCategory('makanan')">
        <img style="margin-right: 5px !important;" src="assets/icon/food.png" alt="logo" class="logo" />
        <h3>Food</h3>
      </div>
      <div class="category-button" (click)="selectCategory('minuman')">
        <img src="assets/icon/drink.png" alt="logo" class="logo" />
        <h3>Drink</h3>
      </div>
    </div>


    <!-- Tampilkan MENU TERLARIS hanya jika tidak sedang search -->
    <h2 *ngIf="!searchTerm" style="color: black; margin-top: 50px;">MENU TERLARIS</h2>
    <div class="popular" *ngIf="!searchTerm" style="margin-top: 20px;">
      <div class="popular-item" *ngFor="let item of terlarisList">
        <img [src]="imageBaseUrl + item.gambar" alt="{{ item.nama }}" class="logo">
        <h3>{{ item.nama }}</h3>
        <div class="price">
          <h3>Rp. {{ item.harga | number:'1.0-0' }}</h3>
          <ion-icon [routerLink]="['/tanggal']" name="add-circle-outline" class="add-icon"></ion-icon>
        </div>
      </div>
    </div>

    <!-- Tampilkan title kategori hanya jika tidak sedang search -->
    <h2 *ngIf="!searchTerm && selectedTitle" style="color: black; margin-top: 50px;">{{ selectedTitle }}</h2>

    <!-- Tampilkan menu (bisa hasil search atau hasil kategori) -->
    <div class="popular" style="margin-top: 20px;">
      <div class="popular-item" *ngFor="let item of selectedItems">
        <img [src]="imageBaseUrl + item.gambar" alt="{{ item.nama }}" class="logo">
        <h3>{{ item.nama }}</h3>
        <div class="price">
          <h3>Rp. {{ item.harga | number:'1.0-0' }}</h3>
          <ion-icon [routerLink]="['/tanggal']" name="add-circle-outline" class="add-icon"></ion-icon>
        </div>
      </div>
    </div>

    <!-- footer -->
    <ion-footer>
      <div class="bottom-navbar">
        <div class="nav-button">
          <ion-icon name="home-outline"></ion-icon>
        </div>
        <div class="nav-button" [routerLink]="['/tanggal']">
          <ion-icon name="book-outline"></ion-icon>
        </div>

        <div class="nav-button" [routerLink]="['/history']">
          <ion-icon name="document-text-outline"></ion-icon>
        </div>
        <div class="nav-button" [routerLink]="['/profile']">
          <ion-icon name="person-outline"></ion-icon>
        </div>
      </div>
    </ion-footer>
  </div>
</ion-content>